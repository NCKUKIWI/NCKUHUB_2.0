$.ajax({type:"GET",url:"https://nckuhub.com/api/course/",success:function(e){vue_course_item.course_data_db=e.courses;for(var t=0;t<100;t++)vue_course_item.course_data.push(vue_course_item.course_data_db[t]);for(var t in console.log(vue_course_item.course_data[0]),vue_course_item.course_data_db)vue_course_item.course_data_db[t].comment_num>0&&vue_course_item.course_with_comment.push(vue_course_item.course_data_db[t])}}),$.ajax({type:"GET",url:"https://nckuhub.com/api/course/allDpmt",success:function(e){vue_courseFilter.dept=e}});var vue_course_item=new Vue({el:"#course_item",data:{course_with_comment:[],course_data:[],course_data_db:[],course_by_depart:[],heartColor:!1,comment_only:!1,count_height:1,count_index:0},methods:{courseLink:function(e){vue_courseContent.isShow=!0,vue_courseContent.course_data=vue_course_item.course_data[e];var t="https://nckuhub.com/api/course/"+vue_courseContent.course_data.id;$.ajax({type:"GET",url:t,success:function(e){vue_courseContent.score_data=e,vue_courseContent.comment_data=e.comment,0==vue_courseContent.comment_data.length?$(".courseFeedback__msg--default").css("display","block"):$(".courseFeedback__msg--default").css("display","none")}})},addCourse:function(e){var t=vue_course_item.course_data[e];vue_courseFilter.wishList.push(t)},handleScroll:function(){var e=$("#course_item").height();if($("#course_item").scrollTop()>=e*this.count_height){for(var t=100+20*this.count_index;t<100+20*(this.count_index+1);t++)vue_course_item.course_data.push(vue_course_item.course_data_db[t]);this.count_index++,this.count_height++}}},created:function(){document.getElementById("courseList").addEventListner("scroll",this.handleScroll)}}),vue_courseContent=new Vue({el:"#courseContent",data:{isShow:!1,course_data:[],score_data:[],comment_data:[]},methods:{showContent:function(){vue_courseContent.isShow=!1}}}),vue_courseFilter=new Vue({el:"#courseFilter",data:{keyword:"",dept:[],course_data:[],wishList:[],dept_dropdown:[],filter_by_dpmt:[]},methods:{comment_filter:function(){var e=document.getElementById("commentCheck"),t=document.getElementById("dpmtFilter").value;if(1==e.checked){if(vue_course_item.course_data=[],console.log(this.keyword),""==t)vue_course_item.course_data=vue_course_item.course_with_comment;else if(""!=t)for(var o in vue_courseFilter.filter_by_dpmt)vue_courseFilter.filter_by_dpmt[o].comment_num>0&&vue_course_item.course_data.push(vue_courseFilter.filter_by_dpmt[o])}else if(vue_course_item.course_data=[],""==t)for(o=0;o<100;o++)vue_course_item.course_data.push(vue_course_item.course_data_db[o]);else""!=t&&(vue_course_item.course_data=vue_courseFilter.filter_by_dpmt)},result_click:function(e){var t=document.getElementById("dpmtFilter"),o=vue_courseFilter.dept_dropdown[e].prefix;if(t.value=o+" "+vue_courseFilter.dept_dropdown[e].name,console.log(o),this.filter_by_dpmt=[],this.keyword)if(1==document.getElementById("commentCheck").checked)for(var u in vue_course_item.course_with_comment)vue_course_item.course_with_comment[u].系號==o&&this.filter_by_dpmt.push(vue_course_item.course_with_comment[u]);else for(var u in vue_course_item.course_data_db)vue_course_item.course_data_db[u].系號==o&&this.filter_by_dpmt.push(vue_course_item.course_data_db[u]);else console.log(this.keyword);$(".quick_search--course").css("display","none"),vue_course_item.course_data=this.filter_by_dpmt}},computed:{search_result:function(){if(this.dept_dropdown=[],this.keyword){for(var e in this.keyword=this.keyword.toUpperCase(),this.dept)if(this.dept[e].DepPrefix.match(this.keyword)||this.dept[e].DepName.match(this.keyword)){var t=[];t.prefix=this.dept[e].DepPrefix,t.name=this.dept[e].DepName,this.dept_dropdown.push(t)}}else if(!this.keyword)if(console.log("empty!!"),vue_course_item.course_data=[],1==document.getElementById("commentCheck").checked)vue_course_item.course_data=vue_course_item.course_with_comment;else for(e=0;e<100;e++)vue_course_item.course_data.push(vue_course_item.course_data_db[e]);return this.dept_dropdown}}});